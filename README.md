
# Домашнее задание к занятию "5.2. Применение принципов IaaC в работе с виртуальными машинами"

## Как сдавать задания

Обязательными к выполнению являются задачи без указания звездочки. Их выполнение необходимо для получения зачета и диплома о профессиональной переподготовке.

Задачи со звездочкой (*) являются дополнительными задачами и/или задачами повышенной сложности. Они не являются обязательными к выполнению, но помогут вам глубже понять тему.

Домашнее задание выполните в файле readme.md в github репозитории. В личном кабинете отправьте на проверку ссылку на .md-файл в вашем репозитории.

Любые вопросы по решению задач задавайте в чате учебной группы.

---


## Важно!

Перед отправкой работы на проверку удаляйте неиспользуемые ресурсы.
Это важно для того, чтоб предупредить неконтролируемый расход средств, полученных в результате использования промокода.

Подробные рекомендации [здесь](https://github.com/netology-code/virt-homeworks/blob/virt-11/r/README.md)

---

## Задача 1

- Опишите своими словами основные преимущества применения на практике IaaC паттернов.
- Какой из принципов IaaC является основополагающим?

#### Ответ
Основные преимущества применения IaaC (IaC) заключаются в автоматизации развертывания инфраструктуры и поддержки этой инфраструктуры для всех этапов жизненного цикла разработки ПО. Благодаря предоставлению стабильной автоматизированной инфраструктуры:
 - понижается сложность ее предоставления разработчикам ПО;
 - повышается скорость реализации этапов жизненного цикла ПО;
 - быстрее и легче развернуть инфраструктуру под различные задачи разработки и поддержки ПО, а также такую инфраструктуру легче масштабировать по необходимости;
 - снижаются затраты на развертывание инфраструктуры за счет автоматизации действий.

Применение IaC обеспечивает единообразие управление элементами инфраструктуры и ожидаемое поведения узлов инфраструктуры при развертывании, управлении и при масштабировании(идемпотентность).



## Задача 2

- Чем Ansible выгодно отличается от других систем управление конфигурациями?
- Какой, на ваш взгляд, метод работы систем конфигурации более надёжный push или pull?

#### Ответ
Инструмент управления конфигурацией Ansible включает в себя достоинства Push методологии применения IaC и декларативного подхода описания конфигурации.
- Централизованное управление конфигурацией: мастер-узлы передают конфигурации хостам используя SSH или Paramiko. Нет необходимости устанавливать на удаленные хосты агенты.
- Применяется на всех этапах жизненного цикла инфраструктуры проекта.
- Декларативный/императивный подход: описание конфигурации инфраструктуры так, как она должна быть. Плюс, плейбуки на YAML лучше читаемы и понимаемы человеком, в сравнении, например, с JSON.
- Ansible поддерживает написание кастомных модулей на множестве языков программирования.

Push метод менее надежен в плане доступности центрального узла. Если у сервера нет связи с удаленными хостами, то конфигурация на них не отправится.

## Задача 3

Установить на личный компьютер:

- VirtualBox
- Vagrant
- Ansible

*Приложить вывод команд установленных версий каждой из программ, оформленный в markdown.*

#### Ответ
Установлено.
VirtualBox:
```
[vainoord@vnrd-mypc:~]$ vboxmanage --version
6.1.34r150636
```
Vagrant:
```
[vainoord@vnrd-mypc:~]$ vagrant --version
Vagrant 2.3.0
```
Ansible:
```
[vainoord@vnrd-mypc:~]$ ansible --version
ansible [core 2.13.3]

```

## Задача 4 (*)

Воспроизвести практическую часть лекции самостоятельно.

- Создать виртуальную машину.
- Зайти внутрь ВМ, убедиться, что Docker установлен с помощью команды
```
docker ps
```

#### Ответ

Установка VM выполнена с заданной в ansible playbook конфигурацией:
```
==> server1.netology: Running provisioner: ansible...
    server1.netology: Running ansible-playbook...

PLAY [nodes] *******************************************************************

TASK [Gathering Facts] *********************************************************
ok: [server1.netology]

TASK [Create directory for ssh-keys] *******************************************
ok: [server1.netology]

TASK [Adding rsa-key in /root/.ssh/authorized_keys] ****************************
changed: [server1.netology]

TASK [Checking DNS] ************************************************************
changed: [server1.netology]

TASK [Installing tools] ********************************************************
ok: [server1.netology] => (item=git)
ok: [server1.netology] => (item=curl)

TASK [Installing docker] *******************************************************
changed: [server1.netology]

TASK [Add the current user to docker group] ************************************
changed: [server1.netology]

PLAY RECAP *********************************************************************
server1.netology           : ok=7    changed=4    unreachable=0    failed=0    skipped=0    rescued=0    ignored=0   
```
Результат:
```
Welcome to Ubuntu 20.04.4 LTS (GNU/Linux 5.4.0-110-generic x86_64)

 * Documentation:  https://help.ubuntu.com
 * Management:     https://landscape.canonical.com
 * Support:        https://ubuntu.com/advantage

  System information as of Tue 06 Sep 2022 02:47:32 PM UTC

  System load:  0.65               Users logged in:          0
  Usage of /:   13.1% of 30.63GB   IPv4 address for docker0: 172.17.0.1
  Memory usage: 24%                IPv4 address for eth0:    10.0.2.15
  Swap usage:   0%                 IPv4 address for eth1:    192.168.56.11
  Processes:    119


This system is built by the Bento project by Chef Software
More information can be found at https://github.com/chef/bento
Last login: Tue Sep  6 14:46:43 2022 from 10.0.2.2

vagrant@server1:~$ docker ps
CONTAINER ID   IMAGE     COMMAND   CREATED   STATUS    PORTS     NAMES
```
